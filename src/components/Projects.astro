---
import ProjectCard from './part/ProjectCard.astro';
import type { Project } from './models/partsModels';
import Flickity from "flickity";
import 'flickity/dist/flickity.min.css';


const projects: Project[]= [
    {title:'Todoleaf', context:'Réalisé en stage', githubLink:'', image:'/todoleaf_ui.webp', description:' Stage de 2 mois réalisé de septembre à novembre 2024 pour le développement d\'un outil de gestion de plantes (prévoir différents traitements pour nos plantes afin d\'en prendre soin au mieux).', technos:'vuejs, vitejs, tailwindcss, laravel, redis, supabase, docker'},
    {title:'Bonsaïs (en cours)', context:'Réalisation personnelle', githubLink:'https://github.com/orgs/Cinedelices/repositories', image:'/bonsai.webp', description:'Projet en cours, le but est d\'apprendre Angular au travers d\'un e-commerce de bonsaïs.', technos:' angular, tailwindcss'},
    {title:'Kerem&Co (en construction)', context:'Réalisation professionnelle', githubLink:'', image:'/kerem-site.webp', description:"Site statique pour aider un ami dans sa carrière de musicien. J'ai démarré ce site en svelte puis j'ai migré sur Astro. Svelte est utilisé sur certains composants. Astro permet de tout compiler en HTML et de ne charger le JS que lorsque nécessaire. Au bout du compte, je profite de la syntaxe simple de Svelte, et j'obtiens un site ultra léger. J'ai également utilisé tailwind pour l'efficacité que cet outil apporte.", technos:'astrojs, svelte, tailwindcss'},  
    {title:'Ciné Délices', context:'Réalisé en formation', githubLink:'https://github.com/orgs/Cinedelices/repositories', image:'/cd-home.webp', image2:'/cd-catalog.webp', description:"Un client (fictif!) dont la spécialité est la diffusion de films, séries et mangas en streaming nous a contacté car il souhaite mettre en oeuvre une stratégie qui pourrait le propulser au-delà de ses grands concurrents. Il s’agit de créer une communauté autour de la cuisine inspirée voire tirée de leurs diffusions. Il a donc besoin de nos services pour créer un site qui proposerait des recettes originales rattachées à une diffusion, et de donner l’occasion aux utilisateurs inscrits de proposer leurs propres recettes et anecdotes, puis pour mettre en place un système de commentaires, et de likes.", technos:' react, typescript, vitejs, tailwindcss, expressjs, docker'},
    {title:'Social Secu', context:'Réalisation personnelle', githubLink:'https://github.com/FlorentGarcia369963/mini_secu', image:'/social-secu.webp', description:"Il s'agit de développer une application web simple permettant le transfert de fichiers en vue du traitement d'une demande. Réalisé avec symfony 6.4, moteur de template Twig, un peu de javascript, et bootstrap pour le front-end.", technos:' symfony, javascript, bootstrap, docker'}
]

// const professionalProjects: Project[]= [
//     {title:'Todoleaf', githubLink:'', image:'/todoleaf_ui.webp', description:' Stage de 2 mois réalisé de septembre à novembre 2024 pour le développement d\'un outil de gestion de plantes (prévoir différents traitements pour nos plantes afin d\'en prendre soin au mieux).', technos:'vuejs, vitejs, tailwindcss, laravel, redis, supabase, docker'},
//     {title:'Kerem&Co (en construction)', githubLink:'', image:'/kerem-site.webp', description:"Site statique pour aider un ami dans sa carrière de musicien. J'ai démarré ce site en svelte puis j'ai migré sur Astro. Svelte est utilisé sur certains composants. Astro permet de tout compiler en HTML et de ne charger le JS que lorsque nécessaire. Au bout du compte, je profite de la syntaxe simple de Svelte, et j'obtiens un site ultra léger. J'ai également utilisé tailwind pour l'efficacité que cet outil apporte.", technos:'astrojs, svelte, tailwindcss'}
// ]


             
---


<section class="h-[100vh]">
    <h2 class="text-[#faebd7] text-[3vw] ml-5 mb-12 pb-0.5 tracking-wider ">Mes projets</h2>
    <div class="hero-slider" data-carousel>
        <!-- début cell -->
         {projects.map((project:Project)=>(
             <div class="carousel-cell" style={`background-image:url(${project.image});`}>
            <div class="overlay"></div>
            <div class="inner">
                 <div>
                     <h3 class="subtitle">{project.context}</h3>
                                     <h2 class="title">{project.title}</h2>
                     <a href="https://flickity.metafizzy.co/" target="_blank" class="btn">En savoir plus</a>
                 </div>
                {/* <a class="absolute left-[50%] translate-[-50%] bottom-[-60%]" href={project.githubLink}>Lien GitHub</a> */}
              <div class="flex justify-around w-full absolute bottom-[-150%]">
                {project.technos.split(',').map((techno:string)=>techno.trim()).map((techno:string)=>(
                    <img class="w-[6%]" src={`/svg/${techno}-icon.svg`} alt={techno}/>
                 ))}
            </div>
          </div>
        </div>
         ))}
        <!-- <div class="carousel-cell" style="background-image:url(/todoleaf_ui.webp);">
            <div class="overlay"></div>
            <div class="inner">
            <h3 class="subtitle">Réalisé en stage</h3>
            <h2 class="title">Todoleaf</h2>
            <a href="https://flickity.metafizzy.co/" target="_blank" class="btn">En savoir plus</a>
          </div>
        </div> -->
<!-- fin cell -->
        <!-- <div class="carousel-cell" style="background-image:url(/kerem-site.webp);">
            <div class="overlay"></div>
            <div class="inner">
            <h3 class="subtitle">Réalisation professionnelle</h3>
            <h2 class="title">Kerem&Co</h2>
            <a href="https://flickity.metafizzy.co/" target="_blank" class="btn">En savoir plus</a>
          </div>
        </div>
        <div class="carousel-cell" style="background-image:url(/cd-home.webp);">
            <div class="overlay"></div>
            <div class="inner">
            <h3 class="subtitle">Réalisé en formation</h3>
            <h2 class="title">Ciné Délices</h2>
            <a href="https://flickity.metafizzy.co/" target="_blank" class="btn">En savoir plus</a>
          </div>
        </div>
      <div class="carousel-cell" style="background-image:url(/bonsai.webp);">
        <div class="overlay"></div>
        <div class="inner">
            <h3 class="subtitle">Réalisation personnelle</h3>
            <h2 class="title">Bonsaï</h2>
            <a href="https://flickity.metafizzy.co/" target="_blank" class="btn">En savoir plus</a>
          </div>
        </div>
      <div class="carousel-cell" style="background-image:url(/social-secu.webp);">
        <div class="overlay"></div>
        <div class="inner">
            <h3 class="subtitle">Réalisation personnelle</h3>
            <h2 class="title">Mini sécu</h2>
            <a href="https://flickity.metafizzy.co/" target="_blank" class="btn">En savoir plus</a>
          </div>
        </div> -->
      </div>
</section>

<script>
    import Flickity from "flickity";
    var options = {
  accessibility: true,
  prevNextButtons: true,
  pageDots: true,
  setGallerySize: false,
  arrowShape: {
    x0: 10,
    x1: 60,
    y1: 50,
    x2: 60,
    y2: 45,
    x3: 15
  }
};

var carousel = document.querySelector('[data-carousel]');
var slides = document.getElementsByClassName('carousel-cell');
var flkty = new Flickity(carousel, options);

flkty.on('scroll', function () {
  flkty.slides.forEach(function (slide, i) {
    var image = slides[i];
    var x = (slide.target + flkty.x) * -1/3;
    image.style.backgroundPosition = x + 'px';
  });
});


</script>
